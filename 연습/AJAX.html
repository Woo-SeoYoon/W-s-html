<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
    <script>
        const url='http://sample.bmaster.kro.kr/contacts?pageno=1';
        async function urlajax(){
            const ajaxUrl = await $.ajax(url);
            return ajaxUrl;

        }   // url 에 비동기화 작업을 마침 
        
        async function dataHtml({contacts}){
            const $aaa=$('#idaaa');
            const $bbb=$('#idbbb');
            const $ccc=$('#idccc');
            $aaa.empty();
            $bbb.empty();
            $ccc.empty();
            for ( const d of contacts){
            $('<p>').text(d.no).appendTo($('#idaaa'));
            $('<p>').text(d.name).appendTo($('#idbbb'));
            $('<p>').text(d.address).appendTo($('#idccc'));
            }
            
        }

        $(document).ready(async function(){
            let data = await urlajax();
            $('#print').click(function(){
                dataHtml(data);
            })
        })
    </script>
</body>
<div id="idaaa"></div>
<div id="idbbb"></div>
<div id="idccc"></div>
<button id="print">프린트</button>
</html>